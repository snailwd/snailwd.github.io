---
layout: single
---

{% if page.main_image %}
  {% assign image_ext = page.main_image | split: "." | last | downcase %}
  {% if image_ext == "gif" %}
    <!-- GIF：原生 <img> 确保自动播放 -->
    <img src="{{ page.main_image | relative_url }}" alt="{{ page.title }}" style="width: 100%; max-width: 100%; border-radius: 4px; margin: 20px 0;">
  {% else %}
    <!-- 普通图片：使用主题 figure -->
    {% include figure image_path=page.main_image alt=page.title caption=page.excerpt %}
  {% endif %}
{% endif %}

{{ content }}

{% if page.repo_url %}
  <a href="{{ page.repo_url }}" class="btn btn--small" target="_blank">More Info</a>
{% endif %}

{% if page.video %}
  <div style="margin: 30px 0; text-align: center;">
    <video controls preload="metadata" poster="{{ page.video_poster | default: page.main_image | relative_url }}" style="width: 100%; max-width: 800px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
      <source src="{{ page.video | relative_url }}" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    {% if page.video_caption %}
      <p style="margin-top: 10px; font-style: italic; color: #666;">{{ page.video_caption }}</p>
    {% endif %}
  </div>
{% endif %}